<div ng-controller="StockRecordsFormCtrl">
    <div class="row">
        <ul class="breadcrumb">
            <li><a href="#/main/"><i class="fa fa-home"> Home</i></a></li>
            <li><a href="#/inventory/index/">Inventory</a></li>
            <li><a href="#/inventory/stock_records?facility={{ facility_uuid }}&report_year={{ report_year }}&report_month={{ report_month }}">Stock Record</a></li>
            <li class="active">Add Stock Record</li>
        </ul>
    </div>

    <div class="wizard clearfix">
        <div class="steps clearfix">
            <ul role="tablist">
                <li role="tab" ng-class="{' current':!report_available, ' disabled': report_available}" class="first" aria-disabled="false" aria-selected="true">
                    <a aria-controls="steps-uid-1-p-0" href="#steps-uid-1-h-0" id="steps-uid-1-t-0">
                        <span class="number">1</span> Report Profile
                    </a>
                </li>
                <li role="tab" ng-class="{'current':report_available, 'disabled': !report_available}" class="" aria-disabled="true">
                    <a aria-controls="steps-uid-1-p-1" href="#steps-uid-1-h-1" id="steps-uid-1-t-1">
                        <span class="number">2</span> Daily Stock record
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <div class="row" ng-hide="report_available">
        <h4 class="center-text">
            This part of the report is entered once every month
        </h4>
        <div class="col-sm-12">
            <form ng-submit="saveStockReport()">
                <div class="row">
                    <div class="col-sm-3">Target Population:</div>
                    <div class="col-sm-3"><input class="form-control" type="text" ng-init="stock_records.target_population=1000" ng-model="stock_records.target_population"></div>
                </div>
                <div class="row" ng-repeat="product in stock_products" >
                    <div class="col-sm-3">
                        <label>{{ product }}</label>
                    </div>
                    <div class="col-sm-3">
                        Maximum Stock: <input type="number" ng-init="stock_records.maximum_stock[$index] = 10000"  ng-model="stock_records.maximum_stock[$index]" class="form-control">
                    </div>
                    <div class="col-sm-3">
                        Minimum Stock: <input type="number" ng-init="stock_records.minimum_stock[$index]=500" ng-model="stock_records.minimum_stock[$index]" class="form-control">
                    </div>
                    <div class="col-sm-3">
                        Balance Brought Forward : <input type="number" ng-init="stock_records.balance_brought_forward[$index]=500" ng-model="stock_records.minimum_stock[$index]" class="form-control">
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-4">
                        <input class="btn btn-default" type="submit" value="Save">
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="row" ng-show="report_available">
        <div class="col-sm-12">
            <form class="wizard clearfix" novalidate="novalidate" ng-submit="save_record()">
                <div class="row">
                    <div class="col-sm-4">Report Day</div>
                    <div class="col-sm-1">
                        <select ng-model="stock_records.report_day" class="form-control">
                            <option value="">-- select day --</option>
                            <option ng-selected="day == current_day" ng-repeat="day in date_var" value="{{ day }}">{{ day }}</option>
                        </select>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12">
                        <div ng-show="stock_records.program" class="form-group" ng-repeat="product in stock_products">


                            <div class="row">
                                <div class="col-sm-3">{{ product }}</div>
                                <div class="col-sm-1">
                                    Receved :<input class="form-control" ng-model="stock_records.received[$index]">
                                </div>
                                <div class="col-sm-1">
                                    Used :<input class="form-control" ng-model="stock_records.used[$index]">
                                </div>
                                <div class="col-sm-1">
                                    Balance :<input class="form-control" ng-model="stock_records.balance[$index]">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <button class="form-control">Save</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>